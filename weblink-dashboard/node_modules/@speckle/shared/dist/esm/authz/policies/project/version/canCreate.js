import { err, ok } from 'true-myth/result';
import { ensureImplicitProjectMemberWithWriteAccessFragment } from '../../../fragments/projects.js';
export const canCreateProjectVersionPolicy = (loaders) => async ({ userId, projectId }) => {
    // Ensure user has at least implicit membership & write access
    const hasWriteAccess = await ensureImplicitProjectMemberWithWriteAccessFragment(loaders)({
        userId,
        projectId
    });
    if (hasWriteAccess.isErr) {
        return err(hasWriteAccess.error);
    }
    return ok();
};
//# sourceMappingURL=canCreate.js.map