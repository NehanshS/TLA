import { err, ok } from 'true-myth/result';
import { ensureImplicitProjectMemberWithReadAccessFragment } from '../../../fragments/projects.js';
import { Roles } from '../../../../core/constants.js';
export const canReadAutomationPolicy = (loaders) => async ({ userId, projectId }) => {
    // Project reviewers may read automations
    const hasReadAccess = await ensureImplicitProjectMemberWithReadAccessFragment(loaders)({
        userId,
        projectId,
        role: Roles.Stream.Reviewer
    });
    if (hasReadAccess.isErr) {
        return err(hasReadAccess.error);
    }
    return ok();
};
//# sourceMappingURL=canRead.js.map