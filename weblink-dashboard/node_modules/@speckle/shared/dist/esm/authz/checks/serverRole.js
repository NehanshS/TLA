import { Roles } from '../../core/constants.js';
import { isMinimumServerRole } from '../domain/logic/roles.js';
export const hasMinimumServerRole = (loaders) => async ({ userId, role: requiredServerRole }) => {
    const userServerRole = await loaders.getServerRole({ userId });
    if (!userServerRole)
        return false;
    return isMinimumServerRole(userServerRole, requiredServerRole);
};
export const canUseAdminOverride = (loaders) => async ({ userId }) => {
    const adminOverrideEnabled = await loaders.getAdminOverrideEnabled();
    if (!adminOverrideEnabled)
        return false;
    return await hasMinimumServerRole(loaders)({
        userId,
        role: Roles.Server.Admin
    });
};
//# sourceMappingURL=serverRole.js.map